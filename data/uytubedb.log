/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
create sequence hibernate_sequence start with 1 increment by 1
create table CANAL (USER_ID integer not null, DESCRIPCION varchar(255), NOMBRE varchar(255), PRIVACIDAD boolean not null, primary key (USER_ID))
create table Canal_Usuario (seguidores_ID integer not null, suscripciones_USER_ID integer not null)
create table CANAL_VIDEO (Canal_USER_ID integer not null, videoCollection_ID integer not null)
create table CATEGORIA (NOMBRE varchar(255) not null, primary key (NOMBRE))
create table ListaDeReproduccion (ID integer not null, NOMBRE varchar(255), PRIVADA boolean, CATEGORIA varchar(255), ID_PROPIETARIO integer not null, primary key (ID))
create table ListaDeReproduccion_PorDefecto (nombre varchar(255) not null, primary key (nombre))
create table ListaDeReproduccion_VIDEO (ListaDeReproduccion_ID integer not null, videos_ID integer not null)
create table USUARIO (ID integer generated by default as identity (start with 1), APELLIDO varchar(255), FECHANAC date not null, IMAGEN varchar(255), MAIL varchar(255) not null, NICKNAME varchar(255) not null, NOMBRE varchar(255), primary key (ID))
create table USUARIO_ListaDeReproduccion (Usuario_ID integer not null, listas_ID integer not null)
create table USUARIO_VALORACION (Usuario_ID integer not null, valoraciones_USER_ID integer not null, valoraciones_VIDEO_ID integer not null)
create table VALORACION (USER_ID integer not null, VIDEO_ID integer not null, GUSTAR boolean, primary key (USER_ID, VIDEO_ID))
create table VIDEO (ID integer generated by default as identity (start with 1), CANAL_USER_ID integer, CATEGORIA varchar(255), DESCRIPCION varchar(255), DURACION integer not null, FECHA_PUBLICACION date not null, NOMBRE varchar(255) not null, PRIVACIDAD boolean not null, URL varchar(255) not null, primary key (ID))
create table VIDEO_VALORACION (Video_ID integer not null, valoraciones_USER_ID integer not null, valoraciones_VIDEO_ID integer not null)
alter table CANAL_VIDEO add constraint UK_kxtj4c4l575gbh1l60357gts5 unique (videoCollection_ID)
alter table ListaDeReproduccion_VIDEO add constraint UK_om1baxrj2sawux19mfbwqbitl unique (videos_ID)
alter table USUARIO_ListaDeReproduccion add constraint UK_l47370t041s4ho88m5eptgisn unique (listas_ID)
alter table USUARIO_VALORACION add constraint UK_3wtq8r3b4sq93j8rscvhfciqd unique (valoraciones_USER_ID, valoraciones_VIDEO_ID)
alter table VIDEO_VALORACION add constraint UK_2r2iw7738j3taw35bc83390yy unique (valoraciones_USER_ID, valoraciones_VIDEO_ID)
alter table CANAL add constraint FKnlw62nh0p4cfauden51jdjces foreign key (USER_ID) references USUARIO
alter table Canal_Usuario add constraint FKxdyvwim1dv5sfbaegep1u3jb foreign key (suscripciones_USER_ID) references CANAL
alter table Canal_Usuario add constraint FKdr17wvhbcp83qlh4o7iymp2d8 foreign key (seguidores_ID) references USUARIO
alter table CANAL_VIDEO add constraint FKhu0dkfw3nfy6uecsc5fd7cafn foreign key (videoCollection_ID) references VIDEO
alter table CANAL_VIDEO add constraint FKpwfjd7shfxqx9ftj74ikwwn8b foreign key (Canal_USER_ID) references CANAL
alter table ListaDeReproduccion add constraint FKlynidq6j79ps59tgqrcghne4g foreign key (CATEGORIA) references CATEGORIA
alter table ListaDeReproduccion add constraint FKnplbgd6nik5tq592ttje4mkmw foreign key (ID_PROPIETARIO) references USUARIO
alter table ListaDeReproduccion_VIDEO add constraint FK5iy019nw7ded01dactbu5wju foreign key (videos_ID) references VIDEO
alter table ListaDeReproduccion_VIDEO add constraint FKdyrbxl4u1s6e51nm89iy38oa2 foreign key (ListaDeReproduccion_ID) references ListaDeReproduccion
alter table USUARIO_ListaDeReproduccion add constraint FKnyju50n45wersnhokbog4r5ix foreign key (listas_ID) references ListaDeReproduccion
alter table USUARIO_ListaDeReproduccion add constraint FK7xm5q8eo387rit9n3taiesc3f foreign key (Usuario_ID) references USUARIO
alter table USUARIO_VALORACION add constraint FKd8ae78dajgmtr6llags8hfgkd foreign key (valoraciones_USER_ID, valoraciones_VIDEO_ID) references VALORACION
alter table USUARIO_VALORACION add constraint FKgglr8pjgu6f49t3j6fwheauet foreign key (Usuario_ID) references USUARIO
alter table VALORACION add constraint FK5f4pvcygq8qc2u13b17johrdn foreign key (USER_ID) references USUARIO
alter table VALORACION add constraint FK1sg64m59lihs5f9vdettsc0t8 foreign key (VIDEO_ID) references VIDEO
alter table VIDEO add constraint FK8a5nn95cintct8nw3cfi4np3l foreign key (CANAL_USER_ID) references CANAL
alter table VIDEO_VALORACION add constraint FKci0gr9qhijh9g241n3635a2fd foreign key (valoraciones_USER_ID, valoraciones_VIDEO_ID) references VALORACION
alter table VIDEO_VALORACION add constraint FKlt1nuykv7t4dkt88mk57g5i9m foreign key (Video_ID) references VIDEO
