/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
create table CANAL (USER_ID integer not null, DESCRIPCION varchar(255), NOMBRE varchar(255), PRIVACIDAD boolean not null, primary key (USER_ID))
create table CANAL_ListaDeReproduccion (Canal_USER_ID integer not null, listas_ID integer not null)
create table Canal_Usuario (seguidores_ID integer not null, suscripciones_USER_ID integer not null)
create table CANAL_VIDEO (Canal_USER_ID integer not null, videos_ID integer not null)
create table CATEGORIA (NOMBRE varchar(255) not null, primary key (NOMBRE))
create table COMENTARIO (id bigint generated by default as identity (start with 1), CONTENIDO varchar(255), FECHA timestamp, USER_ID integer, VIDEO_ID integer, ID_PADRE bigint, primary key (id))
create table COMENTARIO_COMENTARIO (Comentario_id bigint not null, hijos_id bigint not null)
create table ListaDeReproduccion (ID integer generated by default as identity (start with 1), NOMBRE varchar(255), PRIVADA boolean, CATEGORIA varchar(255), ID_PROPIETARIO integer not null, primary key (ID))
create table ListaDeReproduccion_PorDefecto (nombre varchar(255) not null, primary key (nombre))
create table ListaDeReproduccion_VIDEO (ListaDeReproduccion_ID integer not null, videos_ID integer not null)
create table USUARIO (ID integer generated by default as identity (start with 1), APELLIDO varchar(255), FECHANAC date not null, IMAGEN varchar(255), MAIL varchar(255) not null, NICKNAME varchar(255) not null, NOMBRE varchar(255), primary key (ID))
create table VALORACION (USER_ID integer not null, VIDEO_ID integer not null, GUSTAR boolean, primary key (USER_ID, VIDEO_ID))
create table VIDEO (ID integer generated by default as identity (start with 1), CANAL_USER_ID integer, CATEGORIA varchar(255), DESCRIPCION varchar(255), DURACION float not null, FECHA_PUBLICACION date not null, NOMBRE varchar(255) not null, PRIVACIDAD boolean not null, URL varchar(255) not null, primary key (ID))
alter table CANAL_ListaDeReproduccion add constraint UK_rh1oo17r1xiybooh3yssxrn0y unique (listas_ID)
alter table CANAL_VIDEO add constraint UK_pv4pu1fwo7bedh8pdu7n6mihg unique (videos_ID)
alter table COMENTARIO_COMENTARIO add constraint UK_sasyp2f8gtosaqnt5c5ojcenl unique (hijos_id)
alter table ListaDeReproduccion_VIDEO add constraint UK_om1baxrj2sawux19mfbwqbitl unique (videos_ID)
alter table CANAL add constraint FKnlw62nh0p4cfauden51jdjces foreign key (USER_ID) references USUARIO
alter table CANAL_ListaDeReproduccion add constraint FKeuxm52el6iebn4oi1cuxp8lh3 foreign key (listas_ID) references ListaDeReproduccion
alter table CANAL_ListaDeReproduccion add constraint FK74ibg5m2x26w1osuv1qfj5aes foreign key (Canal_USER_ID) references CANAL
alter table Canal_Usuario add constraint FKxdyvwim1dv5sfbaegep1u3jb foreign key (suscripciones_USER_ID) references CANAL
alter table Canal_Usuario add constraint FKdr17wvhbcp83qlh4o7iymp2d8 foreign key (seguidores_ID) references USUARIO
alter table CANAL_VIDEO add constraint FKamwcig4lrsuwsemf401fpsm7v foreign key (videos_ID) references VIDEO
alter table CANAL_VIDEO add constraint FKpwfjd7shfxqx9ftj74ikwwn8b foreign key (Canal_USER_ID) references CANAL
alter table COMENTARIO add constraint FKlqhc2jp7jqvqdjo0f4bsdqnte foreign key (ID_PADRE) references COMENTARIO
alter table COMENTARIO add constraint FKl42i5vyk7qpx4mppo3imtrdse foreign key (USER_ID) references USUARIO
alter table COMENTARIO add constraint FKjbnva11k78u5t9oggmukmyoi4 foreign key (VIDEO_ID) references VIDEO
alter table COMENTARIO_COMENTARIO add constraint FK4cu5v5mjghhshgp2s8nn3363u foreign key (hijos_id) references COMENTARIO
alter table COMENTARIO_COMENTARIO add constraint FKajkd18w33p383uea6fdt96oqk foreign key (Comentario_id) references COMENTARIO
alter table ListaDeReproduccion add constraint FKlynidq6j79ps59tgqrcghne4g foreign key (CATEGORIA) references CATEGORIA
alter table ListaDeReproduccion add constraint FKnplbgd6nik5tq592ttje4mkmw foreign key (ID_PROPIETARIO) references USUARIO
alter table ListaDeReproduccion_VIDEO add constraint FK5iy019nw7ded01dactbu5wju foreign key (videos_ID) references VIDEO
alter table ListaDeReproduccion_VIDEO add constraint FKdyrbxl4u1s6e51nm89iy38oa2 foreign key (ListaDeReproduccion_ID) references ListaDeReproduccion
alter table VALORACION add constraint FK5f4pvcygq8qc2u13b17johrdn foreign key (USER_ID) references USUARIO
alter table VALORACION add constraint FK1sg64m59lihs5f9vdettsc0t8 foreign key (VIDEO_ID) references VIDEO
alter table VIDEO add constraint FK8a5nn95cintct8nw3cfi4np3l foreign key (CANAL_USER_ID) references CANAL
